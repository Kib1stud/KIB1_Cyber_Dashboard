<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KIB1 Cyber Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* Анимация самолёта */
    .plane {
      position: fixed;
      top: 20px;
      right: -50px;
      font-size: 2rem;
      animation: fly 8s linear infinite;
    }
    @keyframes fly {
      0% { right: -50px; top: 20px; }
      50% { right: 50%; top: 80px; transform: rotate(15deg); }
      100% { right: 110%; top: 20px; }
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-800">
  <!-- Самолётик -->
  <div class="plane">✈️</div>

  <!-- Шапка -->
  <header class="bg-blue-600 text-white p-6 shadow-lg">
    <h1 class="text-2xl font-bold">KIB1 Cyber Dashboard</h1>
  </header>

  <!-- Контент -->
  <main class="p-6 grid gap-6 md:grid-cols-2">
    <!-- Блок с CVE -->
    <section class="bg-white p-4 rounded-2xl shadow-md">
      <h2 class="text-xl font-semibold mb-2">Последние CVE</h2>
      <p class="text-gray-500">Live CVE feed is disabled temporarily (API issues). Stay tuned!</p>
    </section>

    <!-- Блок с новостями -->
    <section class="bg-white p-4 rounded-2xl shadow-md">
      <h2 class="text-xl font-semibold mb-2">Новости</h2>
      <ul class="list-disc list-inside text-gray-600">
        <li>Обновление Dashboard</li>
        <li>Скоро появятся новые функции</li>
        <li>Теперь есть анимированный самолётик ✈️</li>
      </ul>
    </section>

    <!-- Блок с графиком (бар-чарт) -->
    <section class="bg-white p-4 rounded-2xl shadow-md">
      <h2 class="text-xl font-semibold mb-4">Распределение уязвимостей</h2>
      <canvas id="cveBarChart" class="w-full h-64"></canvas>
    </section>

    <!-- Блок с графиком (pie-чарт) -->
    <section class="bg-white p-4 rounded-2xl shadow-md">
      <h2 class="text-xl font-semibold mb-4">Соотношение уязвимостей</h2>
      <canvas id="cvePieChart" class="w-full h-64"></canvas>
    </section>
  </main>

  <!-- JS для графиков -->
  <script>
    // Данные (тестовые)
    const labels = ['Critical', 'High', 'Medium', 'Low'];
    const values = [12, 19, 7, 3];
    const colors = ['#dc2626','#f97316','#facc15','#22c55e'];

    // Bar chart
    new Chart(document.getElementById('cveBarChart').getContext('2d'), {
      type: 'bar',
      data: {
        labels: labels,
        datasets: [{
          label: 'Количество уязвимостей',
          data: values,
          backgroundColor: colors
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          title: {
            display: true,
            text: 'По уровням критичности'
          }
        }
      }
    });

    // Pie chart
    new Chart(document.getElementById('cvePieChart').getContext('2d'), {
      type: 'pie',
      data: {
        labels: labels,
        datasets: [{
          data: values,
          backgroundColor: colors
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' },
          title: {
            display: true,
            text: 'Доля уязвимостей'
          }
        }
      }
    });
  </script>
</body>
</html>
